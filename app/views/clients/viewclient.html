<div class="content-container" ng-controller="ViewClientController">
    <ul class="breadcrumb">
        <li ng-if="!groupid"><a href="#!/clients">{{'label.anchor.clients' | translate}}</a></li>
        <li ng-if="groupid"><a href="#!/groups">{{'label.anchor.groups' | translate}}</a></li>
        <li ng-if="!groupid" class="active pointer"><a ng-click="refresh()">{{client.displayName}}</a></li>
        <li ng-if="groupid" class="active pointer"><a ng-click="refresh()">{{group.name}}</a></li>
    </ul>
    <script type="text/ng-template" id="deleteClient.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.confirm.delete.client' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
        </div>
        <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
		<md-button class="md-raised md-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</md-button>
    </script>
    <script type="text/ng-template" id="activateElectronicBank.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.input.confirm.active.electronic.banking' | translate}}</h3>
        </div>
        <div class="modal-body ">
            <api-validate></api-validate>
            <br>
            <div class="form-group">
                <label class="control-label col-sm-4" for="emailAddress">{{'label.input.email' | translate }}</label>
                <div class="col-sm-8">
                    <input type="email" id="email" ng-model="formData.emailAddress" class="form-control"/>
                </div>
            </div>
            <br>
        </div>
        <div class="modal-footer silver">
            <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
            <md-button class="md-raised md-primary" ng-click="activeBPI()">{{'label.button.Active' | translate}}</md-button>
        </div>
    </script>
    <script type="text/ng-template" id="desactiveElectronicBank.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.input.confirm.desactive.electronic.banking' | translate}}</h3>
        </div>
        <div class="modal-body ">
            <api-validate></api-validate>
            <br>
            <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
            <md-button class="md-raised md-primary" ng-click="desactiveBPI()">{{'label.button.Desactive' | translate}}</md-button>
        </div>
    </script>
    <script type="text/ng-template" id="validateClient.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.confirm.validate.client' | translate}}</h3>
		</div>
		<div class="modal-body">
            <api-validate></api-validate>
            <label class="control-label" for="note">{{'label.input.note' | translate}}
                <span class="required"> * </span>
            </label>
            <br>
            <textarea rows="2" class="form-control marginbottom0px" id="textarea" required
                placeholder="{{'label.input.enternote' | translate}}" ng-model="note" 
                style="min-width: 570px; max-width: 570px; ">
            </textarea>
        </div>
        <div class="modal-footer">
			<md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-warn" ng-click="validateClient(false)">{{'label.button.incomplete' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="validateClient(true)">{{'label.button.complete' | translate}}</md-button>
        </div>
	</script>
    <script type="text/ng-template" id="reporte.html">
	<div data-ng-include="'views/reports/run_reports_from.html'"></div>
	<div class="modal-body ">
	<md-button class= "md-raised md-warn" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
	</div>
	</script>
    <script type="text/ng-template" id="deletesig.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.button.deletesig' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<span ng-show="docId == -1">{{'label.noClientSignature' | translate}}</span> <br> <br>
			<md-button class= "md-raised md-warn" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised" ng-show="docId != -1" ng-click="delete()">{{'label.button.confirm' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="photo-dialog.html">
		<div class="modal-header silver">
			<img ng-src="{{largeImage}}" alt="Avatar">
		</div>
		<div class="modal-body ">
			<md-button class="md-raised md-warn" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="clientSignature.html">
		<div class="modal-header silver">
			<img ng-src="{{largeImage}}" alt="Signature">
		</div>
		<div class="modal-body ">
			<md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised" ng-click="deleteSig()" has-permission='DELETE_CLIENTIMAGE'><i class="fa fa-trash-o" aria-hidden="true"></i>{{'label.button.delete' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="uploadSig()" has-permission='CREATE_CLIENTIMAGE'><i class="fa fa-upload" aria-hidden="true"></i>{{'label.button.upload' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="clientWithoutSignature.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.noClientSignature' | translate}}</h3>
		</div>
		<div class="modal-body ">
			<md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="uploadSig()" has-permission='CREATE_CLIENTIMAGE'><i class="fa fa-upload" aria-hidden="true"></i>{{'label.button.upload' | translate}}</md-button>
		</div>
	</script>

    <script type="text/ng-template" id="uploadpic.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.selectclientimage' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
			<input type="file" ngf-select ng-model="file">
		</div>
		<div class="modal-footer">
			<md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="upload(file)">{{'label.button.upload' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="capturepic.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.captureclientimage' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<div ng-show="error != null" class="error">
				{{'label.error' | translate}}: {{error}}
			</div>
			<br>
			<div>
				<div class="left">
					<webcam on-streaming="onVideoSuccess()"
							on-error="onVideoError(err)" on-stream="onStream(stream)" channel="videoChannel"></webcam>
				</div>
				<div class="right">
					<canvas id="clientSnapshot" width="320" height="240"></canvas>
				</div>
			</div>
			<div class="center" style="margin-top: 10px">
				<md-button class= "md-raised" ng-click="takeScreenshot()">
					<i class="fa fa-camera "></i>
					{{'label.button.capture' | translate}}
				</md-button>
			</div>
		</div>
		<div class="modal-footer">
			<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="uploadscreenshot()">{{'label.button.upload' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="deletePic.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.deleteclientimage' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
			<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="clientunassignstaff.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.unassignstaff' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
			<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="unassign()">{{'label.button.confirm' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="uploadsig.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.selectclientsignature' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
			<input type="file" ngf-select ng-model="file">
		</div>
		<div class="modal-footer">
			<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
			<md-button class="md-raised md-primary" ng-click="upload(file)">{{'label.button.upload' | translate}}</md-button>
		</div>
	</script>
    <script type="text/ng-template" id="deleteNote.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.confirm.delete.value' | translate}}</h3>
		</div>
		<div class="modal-body">
			<p>{{'label.areyousure' | translate}}</p>
		</div>
		<div class="modal-footer">
			<span class="pull-right">
				<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
				<md-button class="md-raised md-primary" ng-click="deleteNote(client.id,clientNote.id,$index)">{{'label.button.confirm' | translate}}</md-button>
			</span>
		</div>
	</script>
    <script type="text/ng-template" id="editNote.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.edit' | translate}}</h3>
		</div>
		<div class="modal-body">
			<textarea rows="1" class="form-control marginbottom0px" id="textarea" placeholder="{{'label.input.enternote' | translate}}" ng-model="this.editData.editNote">  </textarea>
		</div>
		<div class="modal-footer">
			<span class="pull-right">
				<md-button class= "md-raised" ng-click="cancel()">{{'label.button.cancel' | translate}}</md-button>
				<md-button class="md-raised md-primary" ng-click="editNote(client.id,clientNote.id,$index)">{{'label.button.confirm' | translate}}</md-button>
			</span>
		</div>
	</script>
    <div class="card">
        <div class="content">
            <div class="toolbar" style="height: 100px;">
                <div class="col-sm-2 col-md-2">
                    <div class="row center" style="margin-left: 0px;" ng-hide="isLegalEntity()">
                        <img ng-hide="client.imagePresent" ng-src="./images/client-image-placeholder.png" alt="Avatar"
                            style="height: 60px;">
                        <img ng-show="client.imagePresent" ng-src="{{image}}" alt="Avatar" data-ng-click="showPicture()"
                            title="{{'label.zoom' | translate}}" style="height: 60px;">
                        <div class="btn-group-xs center">
                            <button type="button" class="btn btn-xs btn-primary" data-ng-click="uploadPic()"
                                has-permission='CREATE_CLIENTIMAGE'
                                uib-tooltip="{{'label.button.uploadpic' | translate}}">
                                <i class="fa fa-upload"></i>
                            </button>
                            <button type="button" class="btn btn-xs btn-primary" data-ng-click="capturePic()"
                                has-permission='CREATE_CLIENTIMAGE'
                                uib-tooltip="{{'label.button.capturepic' | translate}}">
                                <i class="fa fa-camera"></i>
                            </button>
                            <button type="button" class="btn btn-xs btn-primary" ng-show="client.imagePresent"
                                data-ng-click="deletePic()" has-permission='DELETE_CLIENTIMAGE'
                                uib-tooltip="{{'label.button.deletepic' | translate}}">
                                <i class="fa fa-trash-o"></i>
                            </button>
                        </div>
                        <div ng-show="signature_url" class="show-large-picture center" data-ng-click="showSignature()">
                            <a>{{'label.showClientSignature' | translate}}</a>
                        </div>
                        <div ng-hide="signature_url" class="show-large-picture center"
                            data-ng-click="showWithoutSignature()">
                            <a>{{'label.showClientSignature' | translate}}</a></div>
                    </div>
                    <div data-ng-show="client.status.value=='Closed'" class="row center">
                        <h3>{{'label.heading.clientclosed' | translate}}</h3>
                    </div>
                    <div data-ng-show="client.status.value=='Rejected'" class="row center">
                        <h3>{{'label.heading.clientrejected' | translate}}</h3>
                    </div>
                    <div data-ng-show="client.status.value=='Withdrawn'" class="row center">
                        <h3>{{'label.heading.withdrawn' | translate}}</h3>
                    </div>
                </div>

                <h3 class="client-title" style="display: inline-block;">
                    <i ng-if="client.status.id==300" class="fa fa-circle {{client.status.code | StatusLookup}}"
                        uib-tooltip="{{client.status.value}}" uib-tooltip-placement="top"></i>
                    <i ng-if="client.status.id==310" class="fa fa-check-circle {{client.status.code | StatusLookup}}"
                        uib-tooltip="{{client.status.value}}" uib-tooltip-placement="top"></i>
                    <small ng-if="client.subStatus.description">
                        [{{client.subStatus.description}}]
                    </small>
                    <strong>{{client.displayName}} </strong>
                    <small>
                        {{'label.heading.clientno' | translate }}: {{client.accountNo}}
                        <br />{{'label.input.externalid2' | translate }}: {{client.externalId}} |
                        {{'label.input.staff' | translate }}: {{client.staffName}}
                    </small>
                </h3>
            </div>
            <md-content class="md-padding">
                <md-tabs md-dynamic-height md-border-bottompersistent-tab class="full-width" md-selected="selectedIndex">
                    <md-tab>
                        <md-tab-label>{{'label.heading.general' | translate}}</md-tab-label>
                        <md-tab-body>
                            <div class="col-md-12 col-sm-12 btn-group row">
                                <a href="{{button.href}}/{{client.id}}/{{button.subhref}}"
                                    class="btn btn-sm btn-primary btn-offset"
                                    has-permission='{{button.taskPermissionName}}'
                                    ng-repeat="button in buttonsArray.singlebuttons">
                                    <i class="{{button.icon}}"></i>{{button.name | translate}}</a>
                                <button type="button" class="btn btn-sm btn-primary" data-ng-click="deleteClient()"
                                    data-ng-show="client.status.value=='Pending'" has-permission='DELETE_CLIENT'><i
                                        class="fa fa-trash-o "></i>{{"label.button.delete"
                                    | translate}}
                                </button>
                                <a href="#!/client/{{client.id}}/updatedefaultaccount"
                                    class="btn btn-sm btn-primary btn-offset" data-ng-show="updateDefaultSavings"
                                    has-permission='UPDATESAVINGSACCOUNT_CLIENT'><i
                                        class="fa fa-edit "></i>{{"label.button.updatedefaultsavings" | translate}}
                                </a>
                                <button type="button" class="btn btn-sm btn-primary"
                                    data-ng-click="unassignStaffCenter()" data-ng-show="client.staffId"
                                    has-permission='UNASSIGNSTAFF_CLIENT'><i
                                        class="fa fa-user "></i>{{"label.button.unassignstaff" | translate}}
                                </button>
                                <span uib-dropdown class="btn-group dropdown" on-toggle="toggled(open)"
                                    ng-show="clientReports.length > 0">
                                    <a class="btn btn-sm btn-primary" uib-dropdown-toggle>
                                        {{'label.button.reports'| translate }}
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-right" ng-if="clientReports.length > 0">
                                        <li data-ng-click="reportsClient(rep)" ng-repeat="rep in clientReports">
                                            <a>{{rep.report_name}}</a>
                                        </li>
                                    </ul>
                                </span>
                                <span uib-dropdown ng-show="buttonsArray.options" class="btn-group dropdown"
                                    on-toggle="toggled(open)">
                                    <a uib-dropdown-toggle class="btn btn-sm btn-primary">
                                        {{'label.button.more' | translate}}
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown dropdown-menu dropdown-menu-right">
                                        <li class="{{button.icon}}" ng-repeat="button in buttonsArray.options">
                                            <a href="#!/clientscreenreport/{{client.id}}"
                                                has-permission='{{button.taskPermissionName}}'
                                                ng-show="client.status.value!='Transfer on hold'">{{'label.'+ button.name |
                                                    translate}}</a>
                                        </li>
                                        <li>
                                            <a data-ng-click="uploadSig()" has-permission='CREATE_CLIENTIMAGE'
                                                ng-show="client.status.value!='Transfer on hold'">{{'label.button.uploadsig'
                                                    | translate}}</a>
                                        </li>
                                        <li>
                                            <a data-ng-click="deleteSig()" has-permission='DELETE_CLIENTIMAGE'>{{'label.button.deletesig'
                                                    | translate}}</a>
                                        </li>
                                        <li data-ng-show="clientAccounts.savingsAccounts">
                                            <a data-ng-click="viewstandinginstruction()"
                                                has-permission='CREATE_STANDINGINSTRUCTION'>{{'label.button.viewstandinginstruction'
                                                    | translate}}</a>
                                        </li>
                                        <li data-ng-show="clientAccounts.savingsAccounts">
                                            <a data-ng-click="createstandinginstruction()"
                                                has-permission='READ_STANDINGINSTRUCTION'
                                                ng-show="client.status.value!='Transfer on hold'">{{'label.button.createstandinginstruction'
                                                    | translate}}</a>
                                        </li>
                                        <li data-ng-show="client.status.value=='Active'">
                                            <a href="#!/createshareaccount/{{client.id}}"
                                                has-permission='CREATE_SHAREACCOUNT'>{{'label.button.newshareaccount' | translate}}</a>
                                        </li>
                                        <li data-ng-show="client.status.value=='Active'">
                                            <a href="#!/newclientfixeddepositaccount/{{client.id}}"
                                                has-permission='CREATE_FIXEDDEPOSITACCOUNT'>{{'label.newfixeddepositaccount' | translate}}</a>
                                        </li>
                                        <li data-ng-show="client.status.value=='Active'">
                                            <a href="#!/newclientrecurringdepositaccount/{{client.id}}"
                                                has-permission='CREATE_RECURRINGDEPOSITACCOUNT'>{{'label.newrecurringdepositaccount' | translate}}</a>
                                        </li>
                                        <li>
                                            <a ng-href="#{{pathToChargeOverview()}}"
                                                has-permission='READ_CLIENTCHARGE'>{{'label.button.chargesoverview' | translate }}</a>
                                        </li>
                                        <li class="{{button.icon}}">
                                            <a href="#!/clients/survey/{{client.id}}">{{'label.survey' | translate}}</a>
                                        </li>
                                        <li data-ng-show="!client.isActiveBPI">
                                            <a ng-click="activeBPI()" has-permission='ACTIVATE_BPISERVICE_CLIENT'>{{'label.input.active.electronic.banking' | translate}}</a>
                                        </li>
                                        <li data-ng-show="client.isActiveBPI">
                                            <a ng-click="desactiveBPI()" has-permission='ACTIVATE_BPISERVICE_CLIENT'>{{'label.input.desactive.electronic.banking' | translate}}</a>
                                        </li>
                                    </ul>
                                </span>
                            </div>
                            <br>
                            <br>
                            <br>
                            <div class="row">
                                <!-- CLIENT DETAILS -->
                                <div class="col-sm-4 col-md-4">
                                    <div>
                                        <br>
                                        <span class="span gray-head">
                                            <strong>{{'label.heading.clientdetails' | translate }}</strong>
                                        </span>
                                        <table class="table small-font">
                                            <tbody>
                                                <tr>
                                                    <th class="table-bold" style="width: 50%;">
                                                        {{'label.input.submittedOnDate' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.timeline.submittedOnDate | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.activationdate' | translate }}
                                                    </th>
                                                    <td><span
                                                            class="padded-td">{{client.timeline.activatedOnDate | DateFormat}}<span
                                                                data-ng-hide="client.timeline.activatedOnDate">{{'label.notactivated' | translate }}</span></span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.legalForm' | translate }}</th>
                                                    <td><span class="padded-td">{{client.legalForm.value}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()">
                                                    <th class="table-bold">{{'label.heading.memberof' | translate }}
                                                    </th>
                                                    <td>
                                                        <span class="padded-td"
                                                            data-ng-hide="client.groups">{{'label.unassigned' | translate }}</span>
                                                        <span class="padded-td" ng-repeat="group in client.groups">
                                                            <a class="list-group-item-text"
                                                                href="#!/viewgroup/{{group.id}}">{{group.name}}</a>&nbsp;<span
                                                                data-ng-hide="client.groups">{{'label.unassigned' | translate }}</span><span
                                                                ng-show="!$last">|</span>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()">
                                                    <th class="table-bold">{{'label.input.isStaff' | translate }}</th>
                                                    <td><span class="padded-td">{{client.isStaff | translate}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.officeName">
                                                    <th class="table-bold">{{'label.input.office' | translate }}</th>
                                                    <td><span class="padded-td">{{client.officeName}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.mobileNo">
                                                    <th class="table-bold">{{'label.input.mobilenumber' | translate }}
                                                    </th>
                                                    <td><span class="padded-td">{{client.mobileNo}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.gender.name">
                                                    <th class="table-bold">{{'label.input.gender' | translate }}</th>
                                                    <td><span class="padded-td">{{client.gender.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.dateOfBirth">
                                                    <th ng-hide="isLegalEntity()" class="table-bold">
                                                        {{'label.input.dateofbirth' | translate }}</th>
                                                    <th ng-show="isLegalEntity()" class="table-bold">
                                                        {{'label.input.incorporationdate' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.dateOfBirth | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.birthplace.name">
                                                    <th class="table-bold">{{'label.input.birthplace' | translate }}
                                                    </th>
                                                    <td><span class="padded-td">{{client.birthplace.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.rfc">
                                                    <th class="table-bold">{{'label.input.rfc' | translate }}</th>
                                                    <td><span class="padded-td">{{client.rfc}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.uniqueId">
                                                    <th class="table-bold">{{'label.input.uniqueId' | translate }}</th>
                                                    <td><span class="padded-td">{{client.uniqueId}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.externalId">
                                                    <th class="table-bold">{{'label.input.externalid' | translate }}
                                                    </th>
                                                    <td><span class="padded-td">{{client.externalId}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.clientType.name">
                                                    <th class="table-bold">{{'label.input.clienttype' | translate }}
                                                    </th>
                                                    <td><span class="padded-td">{{client.clientType.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.clientClassification.name">
                                                    <th class="table-bold">
                                                        {{'label.input.clientclassification' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.clientClassification.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.status.value=='Closed'">
                                                    <th class="table-bold">{{'label.heading.closedate' | translate }}
                                                    </th>
                                                    <td><span
                                                            class="padded-td">{{client.timeline.closedOnDate | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.groupLoanCounter">
                                                    <th class="table-bold">
                                                        {{'label.input.groupLoanCounter' | translate }}</th>
                                                    <td><span class="padded-td">{{client.groupLoanCounter}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="whitebg" colspan="2">
                                                        {{'label.heading.performancehistory' | translate }}</th>
                                                </tr>
                                                <tr>
                                                    <th>{{'label.heading.numofloancycle' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.ClientSummary.loanCycle}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>{{'label.lastloanamount' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.ClientSummary.lastLoanAmount| FormatNumber}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>{{'label.numofactiveloans' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.ClientSummary.activeLoans}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="t in totalAllSavingsAccountsBalanceBasedOnCurrency">
                                                    <th>{{'label.totalsavings' | translate }}({{t.code}})</th>
                                                    <td><span class="padded-td">{{t.totalSavings| FormatNumber}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>{{'label.numofactivesavings' | translate }}</th>
                                                    <td><span
                                                            class="padded-td">{{client.ClientSummary.activeSavings}}</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="col-sm-8 col-md-8">
                                    <div>
                                        <api-validate></api-validate>
                                        <div class="pull-right" data-ng-show="charges.length">
                                            <span>
                                                <button type="button" class="btn-primary btn btn-sm"
                                                    data-ng-click="routeToChargeOverview()">{{
                                                    'label.button.chargesoverview' | translate }}
                                                </button>
                                            </span>
                                        </div>
                                        <div data-ng-show="charges.length">
                                            <div class="span gray-head">
                                                <span class="boldlabel">
                                                    <strong>{{'label.heading.upcomingcharges' | translate }}</strong>
                                                </span>
                                            </div>
                                            <table class="table table-condensed">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.name' | translate}}</th>
                                                    <th>{{'label.heading.dueasof' | translate}}</th>
                                                    <th>{{'label.heading.due' | translate}}</th>
                                                    <th>{{'label.heading.paid' | translate}}</th>
                                                    <th>{{'label.heading.waived' | translate}}</th>
                                                    <th>{{'label.heading.outstanding' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main" ng-repeat="charge in charges">
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        <i
                                                            class="fa fa-circle  {{ (!(charge.isWaived || charge.isPaid)) |StatusLookup}}"></i>&nbsp;{{charge.name}}
                                                    </td>
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        {{charge.dueDate|DateFormat}}</td>
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        {{charge.amount | FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        {{charge.amountPaid | FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        {{charge.amountWaived | FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                                        {{charge.amountOutstanding | FormatNumber}}</td>
                                                    <td class="pointer center">
                                                        <a uib-tooltip="{{'label.button.paycharge' | translate}}"
                                                            has-permission='PAY_CLIENTCHARGE'
                                                            ng-href="#!/viewclient/{{client.id}}/paycharge/{{charge.id}}"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-dollar "></i>
                                                        </a>&thinsp;
                                                        <a uib-tooltip="{{'label.button.waivecharge' | translate}}"
                                                            has-permission='WAIVE_CLIENTCHARGE'
                                                            ng-click="waiveCharge(charge.id)"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-flag "></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <br>
                                        <div class="pull-right">
                                            <span ng-show="clientAccounts.loanAccounts">
                                                <button md-no-ink ng-show="openLoan" class="btn-primary btn btn-sm"
                                                    ng-click="setLoan()">
                                                    {{'label.button.viewclosedloans' | translate }}
                                                </button>
                                                <button md-no-ink ng-show="!openLoan" class="btn-primary btn btn-sm"
                                                    ng-click="setLoan()">
                                                    {{'label.button.viewactiveloans' | translate }}
                                                </button>
                                            </span>
                                        </div>
                                        <div data-ng-show="clientAccounts.loanAccounts">

                                            <table class="table table-condensed" data-ng-show="openLoan">
                                                <span class="span gray-head">
                                                    <strong>{{'label.heading.loanaccoverview' | translate }}</strong>
                                                </span>
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.loanaccount' | translate}}</th>
                                                    <th>{{'label.heading.loanamount' | translate}}</th>
                                                    <th>{{'label.heading.outstandingamount' | translate}}</th>
                                                    <th>{{'label.heading.dueamount' | translate}}</th>
                                                    <th>{{'label.heading.type' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="loanaccount in clientAccounts.loanAccounts | orderBy:'id':true | filter:isLoanNotClosed">
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        <i ng-hide="loanaccount.inArrears" uib-tooltip-placement="right"
                                                            uib-tooltip="{{loanaccount.status.value}}"
                                                            class="fa fa-circle {{loanaccount.status.code | StatusLookup}}"></i>
                                                        <i ng-show="loanaccount.inArrears" uib-tooltip-placement="right"
                                                            uib-tooltip="{{loanaccount.status.value}}"
                                                            class="fa fa-circle {{loanaccount.status.code | StatusLookup}}overdue"></i>
                                                        {{loanaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.productName}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.originalLoan| FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.loanBalance| FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.amountPaid| FormatNumber}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToLoan(loanaccount.id)"
                                                        ng-if="loanaccount.loanType.value == 'Individual'">
                                                        <i uib-tooltip="{{loanaccount.loanType.value}}"
                                                            class="fa fa-user"></i>
                                                    </td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToLoan(loanaccount.id)"
                                                        ng-if="loanaccount.loanType.value != 'Individual'">
                                                        <i uib-tooltip="{{loanaccount.loanType.value}}"
                                                            class="fa fa-group"></i>
                                                    </td>
                                                    <td class="pointer center" ng-if="loanaccount.status.active">
                                                        <a uib-tooltip="{{'label.button.makerepayment' | translate}}"
                                                            ng-href="#!/loanaccount/{{loanaccount.id}}/repayment"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-dollar"></i>
                                                        </a>
                                                    </td>
                                                    <td class="pointer center"
                                                        ng-if="loanaccount.status.pendingApproval">
                                                        <a uib-tooltip="{{'label.button.approve' | translate}}"
                                                            has-permission='APPROVE_LOAN'
                                                            ng-href="#!/loanaccount/{{loanaccount.id}}/approve"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-check"></i>
                                                        </a>
                                                    </td>
                                                    <td class="pointer center"
                                                        ng-if="!loanaccount.status.pendingApproval && !loanaccount.status.active && !loanaccount.status.overpaid">
                                                        <a uib-tooltip="{{'label.button.disburse' | translate}}"
                                                            has-permission='DISBURSE_LOAN'
                                                            ng-href="#!/loanaccount/{{loanaccount.id}}/disburse"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-flag"></i>
                                                        </a>
                                                    </td>
                                                    <td class="pointer center"
                                                        ng-if="!loanaccount.status.pendingApproval && !loanaccount.status.active && loanaccount.status.overpaid">
                                                        <a uib-tooltip="{{'label.button.transferFunds' | translate}}"
                                                            has-permission='DISBURSE_LOAN'
                                                            ng-href="#!/accounttransfers/fromloans/{{loanaccount.id}}"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-exchange"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table table-condensed" data-ng-show="!openLoan">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.loanaccount' | translate}}</th>
                                                    <th>{{'label.heading.loanamount' | translate}}</th>
                                                    <th>{{'label.heading.outstandingamount' | translate}}</th>
                                                    <th>{{'label.heading.dueamount' | translate}}</th>
                                                    <th class="center">{{'label.heading.type' | translate}}</th>
                                                    <th>{{'label.heading.closedate' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="loanaccount in clientAccounts.loanAccounts | orderBy:'id':true | filter:isClosed">
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        <i uib-tooltip-placement="right"
                                                            uib-tooltip="{{loanaccount.status.value}}"
                                                            class="fa fa-circle {{loanaccount.status.code | StatusLookup}}"></i>
                                                        {{loanaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.productName}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.originalLoan| FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.loanBalance| FormatNumber}}</td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        {{loanaccount.amountPaid| FormatNumber}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToLoan(loanaccount.id)"
                                                        ng-if="loanaccount.loanType.value == 'Individual'">
                                                        <i uib-tooltip="{{loanaccount.loanType.value}}"
                                                            class="fa fa-user fa fa-large"></i>
                                                    </td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToLoan(loanaccount.id)"
                                                        ng-if="loanaccount.loanType.value != 'Individual'">
                                                        <i uib-tooltip="{{loanaccount.loanType.value}}"
                                                            class="fa fa-group fa fa-large"></i>
                                                    </td>
                                                    <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
                                                        <span
                                                            data-ng-show="loanaccount.timeline.closedOnDate">{{loanaccount.timeline.closedOnDate | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div data-ng-show="clientAccounts.savingsAccounts">
                                            <div class="pull-right">
                                                <span data-ng-show="clientAccounts.savingsAccounts">
                                                    <button data-ng-show="openSaving" type="button"
                                                        data-ng-click="setSaving()" class="btn-primary btn btn-sm">
                                                        {{'label.button.viewclosedsavings' | translate }}
                                                    </button>
                                                    <button data-ng-show="!openSaving" type="button"
                                                        data-ng-click="setSaving()" class="btn-primary btn btn-sm">
                                                        {{'label.button.viewactivesavings' | translate }}
                                                    </button>
                                                </span>
                                            </div>
                                            <div class="span gray-head">
                                                <span class="boldlabel">
                                                    <strong>{{'label.heading.savingsaccoverview' | translate }}</strong>
                                                </span>
                                            </div>
                                            <table class="table table-condensed" data-ng-show="openSaving">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.savingaccount' | translate}}</th>
                                                    <th>{{'label.heading.lastActive' | translate}}</th>
                                                    <th class="center">{{'label.heading.balance' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="savingaccount in clientAccounts.savingsAccounts | orderBy:'id':true | filter:isSavingNotClosed">
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        <i uib-tooltip-placement="right"
                                                            ng-show="savingaccount.subStatus.id==0"
                                                            uib-tooltip="{{savingaccount.status.value | translate}}"
                                                            class="fa fa-circle {{savingaccount.status.code | StatusLookup}}"></i>
                                                        <i uib-tooltip-placement="right"
                                                            ng-hide="savingaccount.subStatus.id==0"
                                                            uib-tooltip="{{savingaccount.subStatus.value | translate}}"
                                                            class="fa fa-circle {{savingaccount.subStatus.value | StatusLookup}}"></i>
                                                        {{savingaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        {{savingaccount.productName}}</td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        {{savingaccount.lastActiveTransactionDate|DateFormat}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        {{savingaccount.accountBalance| FormatNumber}}</td>
                                                    <td class="pointer" ng-if="savingaccount.status.active">
                                                        <span ng-repeat="button in savingsActionbuttons">
                                                            <a uib-tooltip="{{'label.'+button.name | translate}}"
                                                                ng-show="button.name" ng-hide="{{savingaccount.subStatus.value==button.check || savingaccount.subStatus.value=='Block'}}"
                                                                has-permission='{{button.taskPermissionName}}'
                                                                ng-click="navigateToSavingsOrDepositAccount(button.name.replace('button.',''), savingaccount.id, savingaccount.depositType.id)"
                                                                class="btn btn-sm btn-primary ng-binding"
                                                                ng-if="savingaccount.depositType.id==button.type"><i
                                                                    class="{{button.icon}} "></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="pointer"
                                                        ng-if="savingaccount.status.submittedAndPendingApproval">
                                                        <a uib-tooltip="{{'label.button.approve' | translate}}"
                                                            has-permission='APPROVE_SAVINGSACCOUNT'
                                                            ng-href="#!/savingaccount/{{savingaccount.id}}/approve"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-check "></i>
                                                        </a>
                                                    </td>
                                                    <td class="pointer"
                                                        ng-if="!savingaccount.status.submittedAndPendingApproval && !savingaccount.status.active">
                                                        <a uib-tooltip="{{'label.button.undoapproval' | translate}}"
                                                            has-permission='APPROVALUNDO_SAVINGSACCOUNT'
                                                            ng-href="#!/savingaccount/{{savingaccount.id}}/undoapproval"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-undo "></i>
                                                        </a>
                                                        <a uib-tooltip="{{'label.button.activate' | translate}}"
                                                            has-permission='ACTIVATE_SAVINGSACCOUNT'
                                                            ng-href="#!/savingaccount/{{savingaccount.id}}/activate"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-check-circle "></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table table-condensed" data-ng-show="!openSaving">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.savingaccount' | translate}}</th>
                                                    <th>{{'label.heading.closedate' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="savingaccount in clientAccounts.savingsAccounts | orderBy:'id':true | filter:isSavingClosed">
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        <i uib-tooltip="{{savingaccount.status.value | translate}}"
                                                            class="fa fa-circle {{savingaccount.status.code | StatusLookup}}"></i>
                                                        {{savingaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        {{savingaccount.productName}}</td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
                                                        <span
                                                            data-ng-show="savingaccount.timeline.closedOnDate">{{savingaccount.timeline.closedOnDate | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div data-ng-show="clientAccounts.shareAccounts">
                                            <div class="pull-right">
                                                <span data-ng-show="clientAccounts.shareAccounts">
                                                    <button data-ng-show="openShares" type="button"
                                                        data-ng-click="setShares()" class="btn-primary btn btn-sm">
                                                        {{'label.button.viewclosedshares' | translate }}
                                                    </button>
                                                    <button data-ng-show="!openShares" type="button"
                                                        data-ng-click="setShares()" class="btn-primary btn btn-sm">
                                                        {{'label.button.viewactiveshares' | translate }}
                                                    </button>
                                                </span>
                                            </div>
                                            <div class="span gray-head">
                                                <span class="boldlabel">
                                                    <strong>{{'label.heading.sharesaccoverview' | translate }}</strong>
                                                </span>
                                            </div>
                                            <table class="table table-condensed" data-ng-show="openShares">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.shareaccount' | translate}}</th>
                                                    <th class="center">{{'label.heading.approvedshares' | translate}}
                                                    </th>
                                                    <th class="center">
                                                        {{'label.heading.pendingforapproval' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="shareaccount in clientAccounts.shareAccounts | orderBy:'id':true | filter:isShareNotClosed">
                                                    <td class="pointer"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        <i uib-tooltip-placement="right"
                                                            uib-tooltip="{{shareaccount.status.value | translate}}"
                                                            class="fa fa-circle {{shareaccount.status.code | StatusLookup}}"></i>
                                                        {{shareaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.productName}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.totalApprovedShares| FormatNumber}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.totalPendingForApprovalShares| FormatNumber}}
                                                    </td>
                                                    <td class="pointer" ng-if="shareaccount.status.active">
                                                        <span ng-repeat="button in savingsActionbuttons">
                                                            <a uib-tooltip="{{'label.'+button.name | translate}}"
                                                                ng-show="button.name"
                                                                has-permission='{{button.taskPermissionName}}'
                                                                ng-click="navigateToSavingsOrDepositAccount(button.name.replace('button.',''), shareaccount.id)"
                                                                class="btn btn-sm btn-primary ng-binding"
                                                                ng-if="shareaccount.depositType.id==button.type"><i
                                                                    class="{{button.icon}} "></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="pointer"
                                                        ng-if="shareaccount.status.submittedAndPendingApproval">
                                                        <a uib-tooltip="{{'label.button.approve' | translate}}"
                                                            has-permission='APPROVE_SHAREACCOUNT'
                                                            ng-href="#!/shareaccount/{{shareaccount.id}}/approve"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-check "></i>
                                                        </a>
                                                    </td>
                                                    <td class="pointer"
                                                        ng-if="!shareaccount.status.submittedAndPendingApproval && !shareaccount.status.active">
                                                        <a uib-tooltip="{{'label.button.undoapproval' | translate}}"
                                                            has-permission='APPROVALUNDO_SHAREACCOUNT'
                                                            ng-href="#!/shareaccount/{{shareaccount.id}}/undoapproval"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-undo "></i>
                                                        </a>
                                                        <a uib-tooltip="{{'label.button.activate' | translate}}"
                                                            has-permission='ACTIVATE_SHAREACCOUNT'
                                                            ng-href="#!/shareaccount/{{shareaccount.id}}/activate"
                                                            class="btn btn-sm btn-primary ng-binding">
                                                            <i class="fa fa-check-circle "></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table table-condensed" data-ng-show="!openShares">
                                                <tr class="graybg">
                                                    <th>{{'label.heading.accnum' | translate}}</th>
                                                    <th>{{'label.heading.shareaccount' | translate}}</th>
                                                    <th class="center">{{'label.heading.approvedshares' | translate}}
                                                    </th>
                                                    <th class="center">
                                                        {{'label.heading.pendingforapproval' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                                <tr class="pointer-main"
                                                    ng-repeat="shareaccount in clientAccounts.shareAccounts | orderBy:'id':true | filter:isShareClosed">
                                                    <td class="pointer"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        <i uib-tooltip="{{shareaccount.status.value}}"
                                                            class="fa fa-circle {{shareaccount.status.code | StatusLookup}}"></i>
                                                        {{shareaccount.accountNo}}
                                                    </td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.productName}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.totalApprovedShares| FormatNumber}}</td>
                                                    <td class="pointer center"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        {{shareaccount.totalPendingForApprovalShares| FormatNumber}}
                                                    </td>
                                                    <td class="pointer"
                                                        data-ng-click="routeToShareAccount(shareaccount.id)">
                                                        <span
                                                            data-ng-show="shareaccount.timeline.closedDate">{{savingaccount.timeline.closedDate | DateFormat}}</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </md-tab-body>
                    </md-tab>

                    <md-tab md-on-select="getClientFiles()">
                        <!--  expediente init -->
                        <md-tab-label>{{'label.heading.client.file' | translate}}</md-tab-label>
                        <md-tab-body>
                            <div class="row">
                                <div class="col-sm-4 col-md-4">
                                    <div>
                                        <br>
                                        <span class="span gray-head">
                                            <strong>{{'label.heading.clientdetails' | translate }}</strong>
                                        </span>
                                        <table class="table small-font">
                                            <tbody>
                                                <!-- inicio tabla -->
                                                <tr>
                                                    <th class="table-bold" style="width: 50%;">
                                                        {{'label.input.firstname' | translate }}</th>
                                                    <td
                                                        ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}">
                                                        <span class="padded-td">{{client.firstname}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold" style="width: 50%;">
                                                        {{'label.input.middlename' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{client.middlename}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold" style="width: 50%;">
                                                        {{'label.input.lastname' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{client.lastname}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold" style="width: 50%;">
                                                        {{'label.input.surname' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{client.surname}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.gender.name">
                                                    <th class="table-bold">{{'label.input.gender' | translate }}</th>
                                                    <td><span class="padded-td">{{client.gender.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.birthplace.name">
                                                    <th class="table-bold">{{'label.input.birthplace' | translate }}
                                                    </th>
                                                    <td ><span class="padded-td">{{client.birthplace.name}}</span>
                                                    </td>
                                                </tr>
                                                <tr data-ng-show="client.rfc">
                                                    <th class="table-bold">{{'label.input.rfc' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_edocta' || highlight=='originacion_declara_fisc' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{client.rfc}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.regimenfiscal' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_compr_const_fisc' || highlight=='originacion_declara_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_compr_const_fisc' || highlight=='originacion_declara_fisc') ? 'white' : ''}"><span class="padded-td">{{regimenfiscal}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.giro' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{giro}}</span>
                                                    </td>
                                                </tr>
                                                <tr ng-hide="isLegalEntity()" data-ng-show="client.uniqueId">
                                                    <th class="table-bold">{{'label.input.uniqueId' | translate }}</th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2' || highlight=='originacion_declara_fisc' || highlight=='originacion_curp' || highlight=='originacion_compr_const_fisc') ? 'white' : ''}"><span class="padded-td">{{client.uniqueId}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.clabe' | translate }}
                                                    </th>
                                                    <td ng-style="{ 'background-color' : highlight=='originacion_edocta' ? '#235B4E' : '', 'color' : highlight=='originacion_edocta' ? 'white' : ''}"><span class="padded-td">{{clabe}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="table-bold">{{'label.input.claveelector' | translate }}
                                                    </th>
                                                    <td ng-style="{ 'background-color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2') ? '#235B4E' : '', 'color' : (highlight=='originacion_ine1' || highlight=='originacion_ine2') ? 'white' : ''}"><span class="padded-td">{{identityClaveElector}}</span>
                                                    </td>
                                                </tr>                                                

                                                <tr>
                                                    <th class="whitebg" colspan="2">
                                                </tr>
                                                
                                                <table class="table" ng-repeat="address in addresses"
                                                    class="table table-condensed"
                                                    ng-show="address.addressTypeId == 330040 || address.addressTypeId == 390037">
                                                    <tr ng-show="view.street">
                                                        <th ng-show="address.addressTypeId == 330040">
                                                            {{'label.input.personaladdress' | translate }}
                                                        </th>
                                                        <th ng-show="address.addressTypeId == 390037">
                                                            {{'label.input.businessaddress' | translate }}
                                                        </th>
                                                        <!-- decidi hacer 2 tablas y que se muestre la correspondiente porque address.addressTypeId no funciona dentro del ngstyle-->
                                                        <td ng-show="address.addressTypeId == 330040" ng-style="{ 'background-color' : (highlight=='originacion_compr_dom') ? '#235B4E' : '', 'color' : (highlight=='originacion_compr_dom') ? 'white' : ''}" class="uppercase">
                                                            <span ng-show="address.street">{{address.street}}</span>
                                                            <span ng-show="address.addressLine1">,
                                                                {{address.addressLine1}}</span>
                                                            <span ng-show="address.addressLine2">,
                                                                {{address.addressLine2}}</span>
                                                            <span ng-show="address.addressLine3">,
                                                                {{address.addressLine3}}</span>
                                                            <span ng-show="address.addressLine4">,
                                                                {{address.addressLine4}}</span>
                                                            <span ng-show="address.addressLine5">,
                                                                {{address.addressLine5}}</span>
                                                            <span ng-show="address.addressLine6">,
                                                                {{address.addressLine6}}</span>
                                                            <span ng-show="address.city">, {{address.city}}</span>
                                                            <span ng-show="address.townVillage">,
                                                                {{address.townVillage}}</span>
                                                            <span ng-show="address.countyDistrict">,
                                                                {{address.countyDistrict}}</span>
                                                            <span ng-show="address.countryName">,
                                                                {{address.countryName}}</span>
                                                            <span ng-show="address.stateName">,
                                                                {{address.stateName}}</span>
                                                            <span ng-show="address.municipalityName">,
                                                                {{address.municipalityName}}</span>
                                                            <span ng-show="address.postalCode">,
                                                                {{address.postalCode}}</span>
                                                            <span ng-show="address.latitude">,
                                                                {{address.latitude}}</span>
                                                            <span ng-show="address.longitude">,
                                                                {{address.longitude}}</span>
                                                            <span ng-show="address.antiquity">,
                                                                {{address.antiquity}}</span>
                                                        </td>
                                                        <td ng-show="address.addressTypeId == 390037" ng-style="{ 'background-color' : (highlight=='originacion_compr_neg') ? '#235B4E' : '', 'color' : (highlight=='originacion_compr_neg') ? 'white' : ''}" class="uppercase">
                                                            <span ng-show="address.street">{{address.street}}</span>
                                                            <span ng-show="address.addressLine1">,
                                                                {{address.addressLine1}}</span>
                                                            <span ng-show="address.addressLine2">,
                                                                {{address.addressLine2}}</span>
                                                            <span ng-show="address.addressLine3">,
                                                                {{address.addressLine3}}</span>
                                                            <span ng-show="address.addressLine4">,
                                                                {{address.addressLine4}}</span>
                                                            <span ng-show="address.addressLine5">,
                                                                {{address.addressLine5}}</span>
                                                            <span ng-show="address.addressLine6">,
                                                                {{address.addressLine6}}</span>
                                                            <span ng-show="address.city">, {{address.city}}</span>
                                                            <span ng-show="address.townVillage">,
                                                                {{address.townVillage}}</span>
                                                            <span ng-show="address.countyDistrict">,
                                                                {{address.countyDistrict}}</span>
                                                            <span ng-show="address.countryName">,
                                                                {{address.countryName}}</span>
                                                            <span ng-show="address.stateName">,
                                                                {{address.stateName}}</span>
                                                            <span ng-show="address.municipalityName">,
                                                                {{address.municipalityName}}</span>
                                                            <span ng-show="address.postalCode">,
                                                                {{address.postalCode}}</span>
                                                            <span ng-show="address.latitude">,
                                                                {{address.latitude}}</span>
                                                            <span ng-show="address.longitude">,
                                                                {{address.longitude}}</span>
                                                            <span ng-show="address.antiquity">,
                                                                {{address.antiquity}}</span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>


                                <div class="col-sm-8 col-md-8">
                                    <blockquote class="divider" style="font-size: 16px;" ng-show="lastNote">{{'label.input.note' | translate}}:&nbsp;{{lastNote}}</blockquote>
                                    <div has-permission='READ_DOCUMENT'>
                                        <blockquote class="divider" style="float: left">
                                            {{'label.heading.documents' | translate }}
                                        </blockquote>
                                        <div class="row">
                                            <div class="pull-right" style="margin-right: 15px;">
                                                <md-button md-no-ink ng-click="markAsValidated()" class="md-raised"
                                                    has-permission='READ_DOCUMENT'><i class="fa fa-plus "></i>
                                                    {{'label.button.mark.as.validated' | translate}}</md-button>
                                            </div>
                                            <div class="pull-right">
                                                <md-button md-no-ink href="#!/addclientdocument/{{client.id}}"
                                                    class="md-raise md-primary" has-permission='CREATE_DOCUMENT'><i
                                                        class="fa fa-plus "></i>
                                                    {{'label.button.add.document' | translate}}</md-button>
                                            </div>
                                        </div>
                                        <br>
                                        <table class="table" ng-show="clientdocuments.length > 0">
                                            <thead>
                                                <tr class="graybg">
                                                    <th>{{'label.heading.name' | translate}}</th>
                                                    <th>{{'label.heading.description' | translate}}</th>
                                                    <th>{{'label.heading.filename' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="clientdocument in clientdocuments">
                                                    <td>{{clientdocument.name}}</td>
                                                    <td>{{clientdocument.description}}</td>
                                                    <td>{{clientdocument.fileName}}</td>
                                                    <td>
                                                        <a ng-style="{ 'color' : (clientdocument.visited) ? '#235B4E' : 'red' }"
                                                            ng-click="previewDocument($index, clientdocument)"><i
                                                                class="fa fa-eye"></i></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div style="padding-left: 25%;" ng-show="preview">
                                            <div class="modal"
                                                style="display: inline-table; margin: 0 auto; margin-left: 35%;">
                                                <div class="modal-content">
                                                    <iframe nf-if="!video" style="min-height: 500px; min-width: 700px;" ng-show="preview" ng-src="{{fileData}}"></iframe>
                                                    <video ng-if="video" autoplay="autoplay" video-src="sources" preload='metadata' ></video>

                                                    <div class="text-center">
                                                        <md-button md-no-ink class="md-primary"
                                                            ng-click="closeDocumentPreview()"><i
                                                                class="fa fa-close"></i>{{'label.close' | translate}}
                                                        </md-button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div has-permission='READ_CLIENTIDENTIFIER'>
                                        <blockquote class="divider">
                                            {{'label.heading.identities' | translate }}
                                        </blockquote>
                                        <div class="pull-right btn-group">
                                            <md-button md-no-ink class="md-primary pull-right"
                                                href="#!/addclientidentifier/{{client.id}}"
                                                has-permission='CREATE_CLIENTIDENTIFIER'><i class="fa fa-plus "></i>{{
                                            'label.button.add.identity' | translate }}</md-button>
                                        </div>
                                        <br>
                                        <table class="table" ng-show="identitydocuments.length > 0">
                                            <thead>
                                                <tr class="graybg">
                                                    <th>{{'label.heading.id' | translate}}</th>
                                                    <th>{{'label.heading.description' | translate}}</th>
                                                    <th>{{'label.heading.type' | translate}}</th>
                                                    <th>{{'label.heading.identitydocuments' | translate}}</th>
                                                    <th>{{'label.heading.status' | translate}}</th>
                                                    <th>{{'label.heading.actions' | translate}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="document in identitydocuments">
                                                    <td>{{document.documentKey}}</td>
                                                    <td>{{document.description}}</td>
                                                    <td>{{document.documentType.name}}</td>
                                                    <td>
                                                        <span ng-repeat="file in document.documents">
                                                            {{file.fileName}}&nbsp;&nbsp;
                                                            <a href="{{hostUrl}}{{file.docUrl}}"
                                                                has-permission='READ_DOCUMENT'><i
                                                                    class="fa fa-cloud-download"></i></a>
                                                        </span>
                                                    </td>
                                                    <td>{{document.status | translate}}</td>
                                                    <td>
                                                        <span>
                                                            <a href="#!/addclientidentifierdocument/{{client.id}}/{{document.id}}"
                                                                has-permission='CREATE_DOCUMENT'><i
                                                                    class="fa fa-cloud-upload"></i></a>&nbsp;
                                                            <a ng-click="deleteClientIdentifierDocument(client.id,document.id,$index)"
                                                                has-permission='DELETE_CLIENTIDENTIFIER'><i
                                                                    class="fa fa-times"></i></a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>




                                </div>

                                <div class="col-sm-12" ng-show="families">
                                    <blockquote class="divider">
                                        {{'label.heading.familymembers' | translate }}
                                    </blockquote>
                                    <md-button md-no-ink class="md-primary pull-right"
                                        ng-click="routeToaddFamilyMember()"><i
                                            class="fa fa-plus"></i>{{'label.button.addfamilymember' | translate}}
                                    </md-button>
                                    <br>
                                    <table class="table" ng-repeat="family in families" class="table table-condensed">
                                        <thead>
                                            <tr class="graybg">
                                                <th class="graybg">{{family.relationship}}</th>
                                                <td>
                                                    <md-button class="md-raised md-primary pull-right"
                                                        ng-click="deleteFamilyMember(family.id)"><i
                                                            class="fa fa-plus"></i>{{'label.button.delete' | translate}}
                                                    </md-button>

                                                    <md-button class="md-raised md-primary pull-right"
                                                        ng-click="editFamilyMember(family.id)"><i
                                                            class="fa fa-plus"></i>{{'label.button.edit' | translate}}
                                                    </md-button>
                                                </td>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr>
                                                <th>
                                                    {{'label.input.firstname' | translate }}
                                                </th>
                                                <td>
                                                    {{family.firstName}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.middlename' | translate }}
                                                </th>
                                                <td>
                                                    {{family.middleName}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.lastname' | translate }}
                                                </th>
                                                <td>
                                                    {{family.lastName}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.qualification' | translate }}
                                                </th>
                                                <td>
                                                    {{family.qualification}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.mobileNumber' | translate }}
                                                </th>
                                                <td>
                                                    {{family.mobileNumber}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.age' | translate }}
                                                </th>
                                                <td>
                                                    {{family.age}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.isDependent' | translate }}
                                                </th>
                                                <td>
                                                    {{family.isDependent}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.maritalstatus' | translate }}
                                                </th>
                                                <td>
                                                    {{family.maritalStatus}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.gender' | translate }}
                                                </th>
                                                <td>
                                                    {{family.gender}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.profession' | translate }}
                                                </th>
                                                <td>
                                                    {{family.profession}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    {{'label.input.dateofbirth' | translate }}
                                                </th>
                                                <td>
                                                    {{family.dateOfBirth | DateFormat }}
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </md-tab-body>
                    </md-tab>

                    <md-tab md-on-select="getAddresses()" ng-show="enableAddress">
                        <md-tab-label>{{'label.heading.addresses' | translate}}</md-tab-label>
                        <md-tab-body>
                            <br />
                            <md-button md-no-ink class="md-primary pull-right" ng-click="routeTo()"><i
                                    class="fa fa-plus"></i>{{'label.button.addAddress' | translate}}</md-button>
                            <table class="table" ng-repeat="address in addresses" class="table table-condensed">
                                <thead>
                                    <tr class="graybg">
                                        <th class="graybg"> {{address.addressType}}</th>
                                        <td>
                                            <md-button class="md-raised md-primary pull-right"
                                                ng-click="routeToEdit(address.addressTypeId,address.addressId)"><i
                                                    class="fa fa-plus"></i>{{'label.button.edit' | translate}}</button>
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show="view.street">
                                        <th>
                                            {{'label.input.street' | translate }}
                                        </th>
                                        <td>
                                            {{address.street}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine1">
                                        <th>
                                            {{'label.input.addressline1' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine1}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine2">
                                        <th>
                                            {{'label.input.addressline2' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine2}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine3">
                                        <th>
                                            {{'label.input.addressline3' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine3}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine4">
                                        <th>
                                            {{'label.input.addressline4' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine4}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine5">
                                        <th>
                                            {{'label.input.addressline5' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine5}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.addressLine6">
                                        <th>
                                            {{'label.input.addressline6' | translate }}
                                        </th>
                                        <td>
                                            {{address.addressLine6}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.city">
                                        <th>
                                            {{'label.input.city' | translate }}
                                        </th>
                                        <td>
                                            {{address.city}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.townVillage">
                                        <th>
                                            {{'label.input.town_village' | translate }}
                                        </th>
                                        <td>
                                            {{address.townVillage}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.countyDistrict">
                                        <th>
                                            {{'label.input.county_district' | translate }}
                                        </th>
                                        <td>
                                            {{address.countyDistrict}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.countryId">
                                        <th>
                                            {{'label.input.country' | translate }}
                                        </th>
                                        <td>
                                            {{address.countryName}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.stateProvinceId">
                                        <th>
                                            {{'label.input.state_province' | translate }}
                                        </th>
                                        <td>
                                            {{address.stateName}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.municipality">
                                        <th>
                                            {{'label.input.municipality' | translate }}
                                        </th>
                                        <td>
                                            {{address.municipalityName}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.postalCode">
                                        <th>
                                            {{'label.input.postal_code' | translate }}
                                        </th>
                                        <td>
                                            {{address.postalCode}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.latitude">
                                        <th>
                                            {{'label.input.latitude' | translate }}
                                        </th>
                                        <td>
                                            {{address.latitude}}
                                        </td>

                                    </tr>
                                    <tr ng-show="view.longitude">
                                        <th>
                                            {{'label.input.longitude' | translate }}
                                        </th>
                                        <td>
                                            {{address.longitude}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.antiquity">
                                        <th>
                                            {{'label.input.antiquity.address' | translate }}
                                        </th>
                                        <td>
                                            {{address.antiquity}}
                                        </td>
                                    </tr>
                                    <tr ng-show="view.isActive">
                                        <th>
                                            {{'label.input.is_active' | translate}}
                                        </th>
                                        <td>
                                            <md-button
                                                ng-click="ChangeAddressStatus(address.client_id,address.isActive,address.addressId)"
                                                data-ng-hide="address.isActive" class="btn btn-primary btn-sm">
                                                {{"label.button.enable" | translate}}
                                            </md-button>
                                            <md-button class="md-primary md-raised"
                                                ng-click="ChangeAddressStatus(address.client_id,address.isActive,address.addressId)"
                                                data-ng-show="address.isActive">
                                                {{"label.button.disable" | translate}}
                                            </md-button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th></th>
                                        <td>
                                            <md-button class="md-fab md-primary pull-right" ng-click="showMap($event)">
                                                <md-icon md-svg-src="images/icons/ubicacion.svg"
                                                    aria-label="Close dialog"></md-icon>
                                            </md-button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </md-tab-body>
                    </md-tab>

                    <md-tab md-on-select="getDataTablesAndScoring()">
                        <md-tab-label>{{'label.heading.datatables' | translate}}</md-tab-label>
                        <md-tab-body>
                            <div class="row" ng-if="datatabledetails.length > 0">
                                <div class="col-sm-12 col-md-12"
                                    style="padding-top: 20px;padding-left: 0px;padding-right: 0px;">
                                    <table class="table-minified">
                                        <tbody>
                                            <tr class="col-sm-6 col-md-6">
                                                <td style="display: block;">
                                                    <div>
                                                        <table class="table table-condensed">
                                                            <tbody>
                                                                <tr>
                                                                    <td colspan="3">
                                                                        <strong>{{'label.input.scoring' | translate}}</strong>
                                                                    </td>
                                                                </tr>
                                                                <tr ng-repeat="scoringDetail in scoringDetails">
                                                                    <td>{{scoringDetail.table}}</td>
                                                                    <td class="amount">
                                                                        {{scoringDetail.points | FormatNumber}} /
                                                                        {{scoringDetail.weight | FormatNumber}}</td>
                                                                    <td class="amount">
                                                                        {{scoringDetail.value | FormatNumber}}</td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="2">
                                                                        <strong>{{'label.input.scoring.internal' | translate}}</strong>
                                                                    </td>
                                                                    <td class="amount">
                                                                        {{scoringInternalPoints | FormatNumber}} /
                                                                        {{scoringInternalTotal | FormatNumber}}</td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="2">
                                                                        <strong>{{'label.input.scoring.external' | translate}}</strong>
                                                                    </td>
                                                                    <td class="amount">
                                                                        {{scoringExternalPoints | FormatNumber}} /
                                                                        {{scoringExternalTotal | FormatNumber}}</td>
                                                                </tr>
                                                                <tr>
                                                                    <td colspan="2">
                                                                        <strong>{{'label.input.scoring.total' | translate}}</strong>
                                                                    </td>
                                                                    <td class="amount" ng-class="scoringTotalTotal > 0.5 ? 'loanToBeApproved' : 'loanToBeRejected'">
                                                                        <strong>{{scoringTotalTotal | FormatNumber}}</strong>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr class="col-sm-12 col-md-12"
                                                ng-repeat="datatabledetail in datatabledetails | orderBy: registeredTableName"
                                                has-permission='READ_{{datatabledetail.registeredTableName}}'>
                                                <td style="display: block;">
                                                    <div>
                                                        <table class="table table-condensed"
                                                            data-ng-hide="datatabledetail.isMultirow">
                                                            <tbody>
                                                                <tr class="graybg">
                                                                    <td style="width: 50%;" class="graybg">
                                                                        <strong
                                                                            ng-hide="datatabledetail.datatableData.description">{{'datatable.' + datatabledetail.registeredTableName | translate}}</strong>
                                                                        <strong
                                                                            ng-show="datatabledetail.datatableData.description">{{datatabledetail.datatableData.description}}</strong>
                                                                    </td>
                                                                    <td style="width: 50%;">
                                                                        <div data-ng-hide="isClosedClient"
                                                                            class="btn-group">
                                                                            <a ng-show="datatabledetail.isData"
                                                                                class="btn btn-sm btn-danger pull-right"
                                                                                ng-click="deleteAll(datatabledetail.registeredTableName, client.id)"
                                                                                has-permission='DELETE_{{datatabledetail.registeredTableName}}'><i
                                                                                    class="fa fa-trash-o "></i>{{'label.button.deleteall' | translate}}</a>
                                                                            <a data-ng-show="datatabledetail.showDataTableAddButton"
                                                                                ng-href="#!/makedatatableentry/{{datatabledetail.registeredTableName}}/{{client.id}}?fromEntity=client"
                                                                                class="btn btn-sm btn-primary"
                                                                                has-permission='CREATE_{{datatabledetail.registeredTableName}}'><i
                                                                                    class="fa fa-plus "></i>{{'label.button.add' | translate}}</a>
                                                                            <a data-ng-show="datatabledetail.showDataTableEditButton"
                                                                                ng-href="#!/viewsingledatatableentry/{{datatabledetail.registeredTableName}}/{{client.id}}?mode=edit"
                                                                                class="btn btn-sm btn-primary"
                                                                                has-permission='UPDATE_{{datatabledetail.registeredTableName}}'><i
                                                                                    class="fa fa-edit "></i>{{'label.button.edit' | translate}}</a>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr ng-repeat="value in datatabledetail.singleRow"
                                                                    data-ng-hide="datatabledetail.isMultirow">
                                                                    <th style="width: 50%;" class="table-font-nav">
                                                                        <strong>{{getDatatableColumn(datatabledetail.registeredTableName, value.name) | translate}}</strong>
                                                                    </th>
                                                                    <td style="width: 50%; padding-left: 10px;"><span
                                                                            class="padded-td">{{getDatatableValue(value)}}</span>
                                                                    </td>
                                                                </tr>
                                                                <tr class="graybg"
                                                                    data-ng-show="datatabledetail.scoring">
                                                                    <th class="graybg table-font-nav">
                                                                        {{'label.heading.score' | translate}}</th>
                                                                    <td><span
                                                                            class="padded-td">{{datatabledetail.points}}
                                                                            / {{datatabledetail.scoring}}</span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </md-tab-body>
                    </md-tab>

                    <md-tab md-on-select="getNotes()" has-permission='READ_CLIENTNOTE'>
                        <md-tab-label>{{'label.heading.notes' | translate}}</md-tab-label>
                        <md-tab-body>
                            <br />
                            <form class="form form-extra">
                                <div class="form-group">
                                    <textarea rows="1" class="form-control marginbottom0px" id="textarea"
                                        placeholder="{{'label.input.enternote' | translate}}" ng-model="formData.note">
                                </textarea>
                                    <div class="notewrapper col-sm-12 col-md-12">
                                        <span class="pull-right noteaddbuttonwrapper">
                                            <md-button class="md-raised md-primary" type="submit" ng-click="saveNote()"
                                                has-permission='CREATE_CLIENTNOTE'><i class="fa fa-plus "></i>
                                                {{'label.button.add' |translate}}
                                            </md-button>
                                        </span>
                                    </div>
                                </div>
                            </form>
                            <br />
                            <div ng-repeat="clientNote in clientNotes | orderBy:predicate:reverse">
                                <blockquote>
                                    <span class="pull-right noteaddbuttonwrapper btn-group">
                                        <md-button class="md-raised md-primary" type="submit"
                                            ng-click="showEditNote(client.id,clientNote.id,$index)"
                                            has-permission='CREATE_CLIENTNOTE'><i
                                                class="fa fa-edit"></i>{{'label.button.edit' |translate}}</md-button>
                                        <md-button class="btn btn-danger"
                                            ng-click="showDeleteNote(client.id,clientNote.id,$index)"
                                            has-permission='DELETE_CLIENTNOTE'><i
                                                class="fa fa-trash-o"></i>{{'label.button.delete' |translate}}
                                        </md-button>
                                    </span>
                                    <p>{{$index + 1}}. {{clientNote.note}}</p>
                                    <small>{{'label.createdby' | translate}}
                                        :&nbsp;{{clientNote.createdByUsername}}</small>
                                    <small>{{'label.createdon' | translate}}
                                        :&nbsp;{{clientNote.createdOn | DateFormat}}</small>
                                </blockquote>
                            </div>
                        </md-tab-body>
                    </md-tab>
                </md-tabs>
            </md-content>
        </div>
    </div>
</div>