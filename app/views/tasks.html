<div class="content-container" ng-controller="TaskController">
    <ul class="breadcrumb">
        <li class="active">{{'label.anchor.tasks' | translate}}</li>
    </ul>
    <div class="card">
        <div class="content">
            <div class="toolbar">
                <h4>{{'label.heading.pendingtasks' | translate}}</h4>
            </div>
            <br>
            <div class="">
                <fieldset>
                    <api-validate></api-validate>
                    <uib-tabset tabset-name="taskTabset">

                        <!-- Banca Social-->
                        <uib-tab heading="{{'label.heading.task.promotion' | translate}}"
                            has-permission='ALL_FUNCTIONS_READ'>
                            <div class="head-affix">
                                <table class="table condensed-table">
                                    <thead>
                                        <tr>
                                            <th>
                                                <div class="form-inline">
                                                    <!-- <div class="form-group">
                                                        <span class="input-append grpinputicons">
                                                            <input ng-autofocus="true" autocomplete="off"
                                                                typeahead-on-select="viewUser($item)"
                                                                placeholder="{{'label.input.searchbysocialbank' | translate}}"
                                                                type="text" ng-model="user"
                                                                uib-typeahead="users.username as users.username for users in checkerTemplate.appUsers | filter:$viewValue | limitTo:8"
                                                                class="form-control">
                                                            <md-button type="button"
                                                                ng-click="isCollapsed = !isCollapsed" class="md-raised">
                                                                <i class="fa fa-chevron-down"></i></md-button>
                                                            <md-button type="button" ng-click="searchSocialBank()"
                                                                class="md-raised md-primary"><i
                                                                    class="fa fa-search"></i></md-button>
                                                        </span>
                                                    </div> -->
                                                    <!-- <div class="form-group">
                                                        <span>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-success"
                                                                data-ng-click="approveOrRejectChecker('approve')"><i
                                                                    class="fa fa-check"></i>&nbsp;&nbsp;{{'label.button.approve' | translate}}</md-button>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-danger"
                                                                data-ng-click="deleteChecker()"><i
                                                                    class="fa fa-trash-o"></i>&nbsp;&nbsp;{{'label.button.delete' | translate}}</md-button>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-warning"
                                                                data-ng-click="approveOrRejectChecker('reject')"><i
                                                                    class="fa fa-times"></i>&nbsp;&nbsp;{{'label.button.reject' | translate}}</md-button>
                                                        </span>
                                                    </div> -->
                                                </div>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="blockoverlay" style="overflow-y: scroll">
                                <!-- <div uib-collapse="isCollapsed" class="blockoverlay" style="overflow-y: scroll"> -->
                                <div class="form-group">
                                    <md-datepicker id="date.from" ng-model="date.from"
                                        md-placeholder="{{'label.input.fromdate' | translate}}"
                                        md-min-date="minDatePicker" md-max-date="maxDatePicker">
                                    </md-datepicker>
                                </div>
                                <div class="form-group">
                                    <div>
                                        <md-datepicker id="date.todate" ng-model="date.to"
                                            md-placeholder="{{'label.input.todate' | translate}}"
                                            md-min-date="date.from" md-max-date="maxDatePicker">
                                        </md-datepicker>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div>
                                        <md-select class="uppercase" ng-model="formData.status" class="form-control"
                                            placeholder="{{'label.selectstatus' | translate}}">
                                            <md-option class="uppercase" value="">{{'label.all' | translate}}</md-option>
                                            <md-option class="uppercase" value="310">{{'clientStatusType.validated' | translate}}
                                            </md-option>
                                            <md-option class="uppercase" value="300">{{'clientStatusType.invalid.plus.valid'| translate}}
                                            </md-option>
                                        </md-select>
                                    </div>
                                </div>
                               
                                <div class="form-group">
                                    <div>
                                        <md-select class="uppercase" ng-model="formData.entity" class="form-control"
                                            placeholder="{{'label.selectentity' | translate}}">
                                            <md-option class="uppercase" value="">{{'label.all' | translate}}</md-option>
                                         
                                            <md-option value="ACAPULCO DE JUAREZ">ACAPULCO DE JUAREZ</md-option>
                                            <md-option value="BENITO JUAREZ">BENITO JUAREZ</md-option>
                                            <md-option value="CENTRO">CENTRO</md-option>
                                            <md-option value="CULIACAN">CULIACAN</md-option>
                                            <md-option value="ECATEPEC DE MORELOS">ECATEPEC DE MORELOS</md-option>
                                            <md-option value="GUADALAJARA">GUADALAJARA</md-option>
                                            <md-option value="GUSTAVO A. MADERO">GUSTAVO A. MADERO</md-option>
                                            <md-option value="LEON">LEON</md-option>
                                            <md-option value="HERMOSILLO">HERMOSILLO</md-option>
                                            <md-option value="IZTAPALAPA">IZTAPALAPA</md-option>
                                            <md-option value="JUAREZ">JUAREZ</md-option>
                                            <md-option value="LAZARO CARDENAS">LAZARO CARDENAS</md-option>
                                            <md-option value="MERIDA">MERIDA</md-option>
                                            <md-option value="MEXICALI">MEXICALI</md-option>
                                            <md-option value="MONTERREY">MONTERREY</md-option>
                                            <md-option value="NEZAHUALCOYOTL">NEZAHUALCOYOTL</md-option>
                                            <md-option value="PUEBLA">PUEBLA</md-option>
                                            <md-option value="TIJUANA">TIJUANA</md-option>
                                            <md-option value="TUXTLA GUTIERREZ">TUXTLA GUTIERREZ</md-option>
                                            <md-option value="VERACRUZ">VERACRUZ</md-option>
                                        </md-select>
                                    </div>
                                </div>
                                <!-- <div class="form-group">
                                    <div>
                                        <input type="text" placeholder="{{'label.input.resourceid' | translate}}"
                                            ng-model="formData.resourceId" class="form-control">
                                    </div>
                                </div> -->
                                <span><a ng-click="searchSocialBank()" class="btn btn-sm btn-primary"><i
                                            class="fa fa-search"></i>{{'label.button.advancesearch' | translate}}</a>
                                    <br /><br />
                                </span>
                            </div>
                            <script type="text/ng-template" id="deletechecker.html">
                                <div class="modal-header silver">
                                    <h3 class="bolder">{{'label.heading.confirm.delete.value' | translate}}</h3>
                                </div>
                                <div class="modal-body">
                                    <api-validate></api-validate>
                                    <br>
                                    <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' |
                                        translate}}
                                    </md-button>
                                    <md-button class="md-raised md-primary" ng-click="delete()">{{'label.button.confirm' |
                                        translate}}
                                    </md-button>
                                </div>
                            </script>
                            <script type="text/ng-template" id="approvechecker.html">
                                <div class="modal-header silver">
                                    <h3 class="bolder">{{'label.heading.approve' | translate}}</h3>
                                </div>
                                <div class="modal-body">
                                    <api-validate></api-validate>
                                    <br>
                                    <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' |
                                        translate}}
                                    </md-button>
                                    <md-button class="md-raised md-primary" ng-click="approve()">{{'label.button.confirm' |
                                        translate}}
                                    </md-button>
                                </div>
                            </script>
                            <div ng-show="searchData">
                                <table md-table class="table" style="margin-top: -20px;">
                                    <thead md-head>
                                        <tr md-row class="graybg">
                                            <th md-column>{{'label.heading.id' | translate}}</th>
                                            <th md-column>{{'label.heading.applicationdate' | translate}}</th>
                                            <th md-column>{{'label.heading.status' | translate}}</th>
                                            <th md-column>{{'label.heading.user' | translate}}</th>
                                            <th md-column>{{'label.heading.municipality' | translate}}</th>
                                        </tr>
                                    </thead>
                                    <tbody mdbody>
                                        <tr md-row class="pointer-main" ng-click="routeToClient(data.clientId)"
                                            dir-paginate="data in searchedSocialBanks | itemsPerPage: itemsPerPage"
                                            pagination-id="inbox">
                                            <td md-cell>{{data.loanId}}</td>
                                            <td md-cell>{{data.submittedDate | DateFormat}}</td>
                                            <td md-cell>{{data.clientStatus.code | translate}}</td>
                                            <td md-cell>{{data.clientName}}</td>
                                            <td md-cell>{{data.city}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="text-center">
                                <dir-pagination-controls pagination-id="inbox" boundary-links="true"
                                    template-url="bower_components/angular-utils-pagination/dirPagination.tpl.html" />
                            </div>
                        </uib-tab>

                        <!-- Crédito -->
                        <uib-tab heading="{{'label.heading.task.credit' | translate}}"
                            has-permission='ALL_FUNCTIONS_READ'>
                            <div class="head-affix">
                                <table class="table condensed-table">
                                    <thead>
                                        <tr>
                                            <th>
                                                <div class="form-inline">
                                                    <!-- <div class="form-group">
                                                        <span class="input-append grpinputicons">
                                                            <input ng-autofocus="true" autocomplete="off"
                                                                typeahead-on-select="viewUser($item)"
                                                                placeholder="{{'label.input.searchbycredit' | translate}}"
                                                                type="text" ng-model="user"
                                                                uib-typeahead="users.username as users.username for users in checkerTemplate.appUsers | filter:$viewValue | limitTo:8"
                                                                class="form-control">
                                                            <md-button type="button"
                                                                ng-click="isCollapsed = !isCollapsed" class="md-raised">
                                                                <i class="fa fa-chevron-down"></i></md-button>
                                                            <md-button type="button" ng-click="searchCredit()"
                                                                class="md-raised md-primary"><i
                                                                    class="fa fa-search"></i></md-button>
                                                        </span>
                                                    </div> -->
                                                    <!-- <div class="form-group">
                                                        <span>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-success"
                                                                data-ng-click="approveOrRejectChecker('approve')"><i
                                                                    class="fa fa-check"></i>&nbsp;&nbsp;{{'label.button.approve' | translate}}</md-button>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-danger"
                                                                data-ng-click="deleteChecker()"><i
                                                                    class="fa fa-trash-o"></i>&nbsp;&nbsp;{{'label.button.delete' | translate}}</md-button>
                                                            <md-button type="button" class="btn btn-sm btn-sm btn-warning"
                                                                data-ng-click="approveOrRejectChecker('reject')"><i
                                                                    class="fa fa-times"></i>&nbsp;&nbsp;{{'label.button.reject' | translate}}</md-button>
                                                        </span>
                                                    </div> -->
                                                </div>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="blockoverlay" style="overflow-y: scroll">
                                <!-- <div uib-collapse="isCollapsed" class="blockoverlay" style="overflow-y: scroll"> -->
                                <div class="form-group">
                                    <md-datepicker id="date.from" ng-model="date.from"
                                        md-placeholder="{{'label.input.fromdate' | translate}}"
                                        md-min-date="minDatePicker" md-max-date="maxDatePicker">
                                    </md-datepicker>
                                </div>
                                <div class="form-group">
                                    <div>
                                        <md-datepicker id="date.todate" ng-model="date.to"
                                            md-placeholder="{{'label.input.todate' | translate}}"
                                            md-min-date="date.from" md-max-date="maxDatePicker">
                                        </md-datepicker>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div>
                                        <md-select class="uppercase" ng-model="formData.status" class="form-control"
                                            placeholder="{{'label.selectstatus' | translate}}">
                                            <md-option class="uppercase" value="">{{'label.all' | translate}}</md-option>
                                            <md-option class="uppercase" value="100">
                                                {{ 'loanStatusType.pending.approval' | translate}}
                                            </md-option>
                                            <md-option class="uppercase" value="200">{{ 'loanStatusType.approved' | translate}}
                                            </md-option>
                                            <md-option class="uppercase" value="300">{{ 'loanStatusType.disbursed.and.active' | translate}}</md-option>
                                            <md-option class="uppercase" value="400">
                                                {{ 'loanStatusType.rejected.by.applicant' | translate}}</md-option>
                                            <md-option class="uppercase" value="500">{{ 'loanStatusType.rejected' | translate}}
                                            </md-option>

                                        </md-select>
                                    </div>
                                </div>
                                <span><a ng-click="searchCredit()" class="btn btn-sm btn-primary"><i
                                            class="fa fa-search"></i>{{'label.button.advancesearch' | translate}}</a>
                                    <br /><br />
                                </span>
                            </div>
                            <script type="text/ng-template" id="deletechecker.html">
                                <div class="modal-header silver">
                                    <h3 class="bolder">{{'label.heading.confirm.delete.value' | translate}}</h3>
                                </div>
                                <div class="modal-body">
                                    <api-validate></api-validate>
                                    <br>
                                    <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' |
                                        translate}}
                                    </md-button>
                                    <md-button class="md-raised md-primary" ng-click="delete()">{{'label.button.confirm' |
                                        translate}}
                                    </md-button>
                                </div>
                            </script>
                            <script type="text/ng-template" id="approvechecker.html">
                                <div class="modal-header silver">
                                    <h3 class="bolder">{{'label.heading.approve' | translate}}</h3>
                                </div>
                                <div class="modal-body">
                                    <api-validate></api-validate>
                                    <br>
                                    <md-button class="md-raised" ng-click="cancel()">{{'label.button.cancel' |
                                        translate}}
                                    </md-button>
                                    <md-button class="md-raised md-primary" ng-click="approve()">{{'label.button.confirm' |
                                        translate}}
                                    </md-button>
                                </div>
                            </script>
                            <div ng-show="searchData">
                                <table md-table class="table" style="margin-top: -20px;">
                                    <thead md-head>
                                        <tr md-row class="graybg">
                                            <th md-column>{{'label.heading.id' | translate}}</th>
                                            <th md-column>{{'label.heading.applicationdate' | translate}}</th>
                                            <th md-column>{{'label.heading.status' | translate}}</th>
                                            <th md-column>{{'label.heading.user' | translate}}</th>
                                        </tr>
                                    </thead>
                                    <tbody mdbody>
                                        <tr md-row class="pointer-main" ng-click="routeToClient(data.clientId)"
                                            dir-paginate="data in searchedLoansFiltered | itemsPerPage: itemsPerPage"
                                            pagination-id="inbox">
                                            <td md-cell>{{data.loanId}}</td>
                                            <td md-cell>{{data.submittedDate | DateFormat}}</td>
                                            <td md-cell>{{data.loanStatus.code | translate}}</td>
                                            <td md-cell>{{data.clientName}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="text-center">
                                <dir-pagination-controls pagination-id="inbox" boundary-links="true"
                                    template-url="bower_components/angular-utils-pagination/dirPagination.tpl.html" />
                            </div>
                        </uib-tab>
                    </uib-tabset>
                </fieldset>
            </div>
        </div>
    </div>
</div>